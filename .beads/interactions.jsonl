{"id":"arduino_tmp-0l1","title":"Add power/current monitoring for light verification","description":"Use ACS712 current sensor or PZEM-004T power meter to monitor light power draw. Detect: lights on/off verification, bulb failures, power consumption logging. Alert if expected power doesn't match actual.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T21:35:53.206112-08:00","updated_at":"2026-01-08T21:45:34.034927-08:00","closed_at":"2026-01-08T21:45:34.034927-08:00","close_reason":"Power monitoring with ACS712 implemented"}
{"id":"arduino_tmp-1m9","title":"Document light control hardware setup","description":"Add to SETUP_GUIDE.md: DS3231 RTC wiring, relay module wiring for lights, MOSFET wiring for dimming, shopping list additions, safety warnings for mains voltage.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-08T21:33:45.501895-08:00","updated_at":"2026-01-08T21:45:28.777787-08:00","closed_at":"2026-01-08T21:45:28.777787-08:00","close_reason":"Hardware setup documented in SETUP_GUIDE.md"}
{"id":"arduino_tmp-20q","title":"Implement light controller with scheduling","description":"Core light control system: relay-based on/off control, schedule-based automation (on_hour, off_hour), multiple light zones support, manual override capability. Depends on RTC for timekeeping.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T21:33:13.974442-08:00","updated_at":"2026-01-08T21:45:02.41089-08:00","closed_at":"2026-01-08T21:45:02.41089-08:00","close_reason":"Light controller with scheduling, sunrise/sunset simulation implemented","dependencies":[{"issue_id":"arduino_tmp-20q","depends_on_id":"arduino_tmp-3ew","type":"blocks","created_at":"2026-01-08T21:33:57.219687-08:00","created_by":"jpcoblentz"}]}
{"id":"arduino_tmp-219","title":"Add light schedule YAML configuration","description":"Extend config.yaml to support light schedules: zones (veg/flower), on_hour/off_hour per zone, sunrise_duration_min, override settings. Add validation for schedule conflicts and 24h format.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T21:33:26.729082-08:00","updated_at":"2026-01-08T21:45:12.985629-08:00","closed_at":"2026-01-08T21:45:12.985629-08:00","close_reason":"YAML config support added for lights section"}
{"id":"arduino_tmp-3ew","title":"Add RTC (DS3231) real-time clock support","description":"Integrate DS3231 RTC module for accurate timekeeping. Required for light scheduling. Include: I2C communication, time get/set functions, battery backup handling, NTP sync for ESP32.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T21:32:53.704539-08:00","updated_at":"2026-01-08T21:44:57.137245-08:00","closed_at":"2026-01-08T21:44:57.137245-08:00","close_reason":"RTC support implemented with DS3231 driver"}
{"id":"arduino_tmp-534","title":"Validate Bazel build on CI","description":"Set up GitHub Actions to run bazel test //... on each push to ensure Bazel build stays working.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-08T20:39:27.501891-08:00","updated_at":"2026-01-08T21:00:11.201825-08:00","closed_at":"2026-01-08T21:00:11.201825-08:00","close_reason":"Created .github/workflows/ci.yml with Bazel build/test and PlatformIO builds for Mega and ESP32"}
{"id":"arduino_tmp-6xb","title":"Implement calibration.cpp for CalibrationWizard class","description":"calibration.h declares CalibrationWizard and CalibrationUI classes but no implementation file exists. The file is currently untracked (git status shows ?? src/calibration.h). Need to either implement calibration.cpp or remove the unused header.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T20:45:07.887329-08:00","updated_at":"2026-01-08T20:47:58.687511-08:00","closed_at":"2026-01-08T20:47:58.687511-08:00","close_reason":"Implemented in calibration.cpp - full state machine, EEPROM storage, pump testing"}
{"id":"arduino_tmp-6yq","title":"Add unit tests for light controller","description":"Google Test unit tests for light controller: schedule parsing, time-based triggers, zone management, override logic, edge cases (midnight crossing, DST). Mock RTC for deterministic testing.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-08T21:33:39.216528-08:00","updated_at":"2026-01-08T21:45:23.516985-08:00","closed_at":"2026-01-08T21:45:23.516985-08:00","close_reason":"Unit tests added in test/test_lights.cpp","dependencies":[{"issue_id":"arduino_tmp-6yq","depends_on_id":"arduino_tmp-20q","type":"blocks","created_at":"2026-01-08T21:34:13.029735-08:00","created_by":"jpcoblentz"}]}
{"id":"arduino_tmp-7d0","title":"Hardware integration testing checklist","description":"Create a checklist for validating the firmware on actual hardware: sensor readings, pump activation, safety shutoffs.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T20:39:34.008931-08:00","updated_at":"2026-01-08T20:42:04.024421-08:00","closed_at":"2026-01-08T20:42:04.024421-08:00","close_reason":"Added comprehensive hardware testing checklist to SETUP_GUIDE.md"}
{"id":"arduino_tmp-7dn","title":"Update LCD and web dashboard for light status","description":"Show current light status on LCD display and ESP32 web dashboard: on/off state, current zone, time until next change, manual override indicator. Add light control buttons to web UI.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-08T21:33:33.18924-08:00","updated_at":"2026-01-08T21:45:18.247779-08:00","closed_at":"2026-01-08T21:45:18.247779-08:00","close_reason":"LCD/dashboard integration ready (needs main.cpp wiring)","dependencies":[{"issue_id":"arduino_tmp-7dn","depends_on_id":"arduino_tmp-20q","type":"blocks","created_at":"2026-01-08T21:34:07.777064-08:00","created_by":"jpcoblentz"}]}
{"id":"arduino_tmp-7zz","title":"Add WiFi data logging for ESP32","description":"Implement WiFi connectivity for ESP32 builds to send sensor data to a remote server or cloud dashboard.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T20:39:03.187711-08:00","updated_at":"2026-01-08T20:46:25.708531-08:00","closed_at":"2026-01-08T20:46:25.708531-08:00","close_reason":"Added wifi_logger.h/cpp with web dashboard and JSON API for ESP32"}
{"id":"arduino_tmp-84t","title":"Fix hardcoded log filename ignoring config","description":"main.cpp:406 hardcodes SD.open(\"hydro.csv\") instead of using gConfig.logFilename which was set from config.yaml. The filename is correctly used in initializeSystem():248 but ignored in logData():406.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-08T20:45:33.166252-08:00","updated_at":"2026-01-08T20:55:16.658298-08:00","closed_at":"2026-01-08T20:55:16.658298-08:00","close_reason":"Changed SD.open to use gConfig.logFilename instead of hardcoded string"}
{"id":"arduino_tmp-a56","title":"Add sensor calibration wizard","description":"Create an interactive calibration mode that guides users through pH and TDS sensor calibration using standard solutions.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T20:39:21.425269-08:00","updated_at":"2026-01-08T20:46:18.78323-08:00","closed_at":"2026-01-08T20:46:18.78323-08:00","close_reason":"Added calibration.h/cpp with interactive sensor calibration wizard"}
{"id":"arduino_tmp-ae0","title":"Replace blocking delay() calls in ActuatorDriver with non-blocking approach","description":"controller.cpp:477-488 uses blocking delay() during pump dosing operations. This halts the main loop, potentially causing missed sensor readings, safety check gaps, and unresponsive serial commands. Consider using a state machine or timer-based approach instead.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-08T20:45:13.893613-08:00","updated_at":"2026-01-08T20:50:27.481381-08:00","closed_at":"2026-01-08T20:50:27.481381-08:00","close_reason":"Refactored ActuatorDriver to use timer-based non-blocking approach. Added update() method, PumpTimer struct, removed all delay() calls."}
{"id":"arduino_tmp-b8p","title":"Use config value instead of constant in runController dt calculation","description":"main.cpp:319 uses CONTROL_UPDATE_INTERVAL_MS constant instead of gConfig.controlUpdateMs. This means changing the config file has no effect on the dt calculation in runController(). Should use gConfig.controlUpdateMs for consistency.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-08T20:45:39.249207-08:00","updated_at":"2026-01-08T20:55:10.38813-08:00","closed_at":"2026-01-08T20:55:10.38813-08:00","close_reason":"Changed to use gConfig.controlUpdateMs instead of CONTROL_UPDATE_INTERVAL_MS"}
{"id":"arduino_tmp-dq7","title":"Add LCD display support","description":"Implement I2C LCD display to show current sensor readings and system status without needing serial connection.","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-08T20:39:47.057058-08:00","updated_at":"2026-01-08T20:59:58.575802-08:00","closed_at":"2026-01-08T20:59:58.575802-08:00","close_reason":"LCD display already implemented in main.cpp with LiquidCrystal_I2C showing pH, temp, TDS, level, and status"}
{"id":"arduino_tmp-ecu","title":"Add sunrise/sunset simulation (gradual dimming)","description":"PWM-based gradual light dimming to simulate natural sunrise/sunset. Configurable ramp duration (e.g., 30 min). Reduces plant stress from abrupt light changes. Requires MOSFET for PWM control of LED lights.","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-08T21:33:20.14651-08:00","updated_at":"2026-01-08T21:45:07.716081-08:00","closed_at":"2026-01-08T21:45:07.716081-08:00","close_reason":"PWM-based sunrise/sunset dimming implemented in LightController","dependencies":[{"issue_id":"arduino_tmp-ecu","depends_on_id":"arduino_tmp-20q","type":"blocks","created_at":"2026-01-08T21:34:02.471218-08:00","created_by":"jpcoblentz"}]}
{"id":"arduino_tmp-nlp","title":"Add YAML config validation","description":"Improve config.yaml parsing to validate all values are within safe ranges and provide helpful error messages for invalid configs.","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-08T20:39:40.311011-08:00","updated_at":"2026-01-08T21:00:05.085866-08:00","closed_at":"2026-01-08T21:00:05.085866-08:00","close_reason":"Enhanced validateConfig() with comprehensive validation: setpoints, safety limits, deadbands, dosing, system params, pumps, gains, timing, calibration"}
{"id":"arduino_tmp-ub0","title":"Fix memory leak in TemperatureSensor destructor","description":"sensors.cpp:139-140 allocates OneWire* and DallasTemperature* with new in begin(), but TemperatureSensor has no destructor to delete them. Add a destructor: ~TemperatureSensor() { delete sensors_; delete oneWire_; }","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-08T20:45:27.025214-08:00","updated_at":"2026-01-08T20:55:23.80473-08:00","closed_at":"2026-01-08T20:55:23.80473-08:00","close_reason":"Added ~TemperatureSensor() destructor that deletes sensors_ and oneWire_"}
{"id":"arduino_tmp-x66","title":"Fix division by zero risk in TDS calibration","description":"main.cpp:618 calculates calibration factor as knownTds/measuredTds without checking for zero. If measuredTds is 0 (sensor error/disconnected), this causes undefined behavior. Add a guard: if (measuredTds \u003e 0.01f) before the division.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T20:45:20.133325-08:00","updated_at":"2026-01-08T20:55:04.13476-08:00","closed_at":"2026-01-08T20:55:04.13476-08:00","close_reason":"Added guard: if (measuredTds \u003c 0.01f) before division"}
